{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/api.service.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/chat/chat.component.ts","webpack:///src/app/chat/chat.component.html","webpack:///src/app/main/main.component.ts","webpack:///src/app/main/main.component.html","webpack:///src/app/start/start.component.ts","webpack:///src/app/start/start.component.html","webpack:///src/app/vote/vote.component.ts","webpack:///src/app/vote/vote.component.html","webpack:///src/app/websocket.service.ts","webpack:///src/app/welcome/welcome.component.ts","webpack:///src/app/welcome/welcome.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///ws (ignored)"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","ApiService","http","socket","uri","players","playersObservable","subscribe","post","player","get","res","next","console","log","name","params","set","updateRoom","providedIn","routes","path","component","redirectTo","AppRoutingModule","forRoot","imports","AppComponent","title","selector","templateUrl","styleUrls","AppModule","declarations","providers","bootstrap","ChatComponent","router","msg","messages","window","sessionStorage","getItem","navigate","alert","getChatMessages","message","push","JSON","parse","destroy","text","stringify","username","sendChatMessage","setValue","MainComponent","api","mafia","getRole","role","StartComponent","route","showPlayerList","nameChosen","playerName","snapshot","paramMap","setItem","playerId","list","getPlayers","newPlayer","start","getUpdates","VoteComponent","votes","votesArray","selectionList","selectedOptions","alive","forEach","element","dead","getVotes","vote","user","kill","Object","map","key","WebsocketService","url","getServerMessages","create","observer","on","getMafiaMessages","emit","close","WelcomeComponent","clear","newgame","environment","production","bootstrapModule","err","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Subject } from 'rxjs';\r\nimport { WebsocketService } from './websocket.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiService {\r\n  uri = 'http://localhost:9000/mafia';\r\n  id : string;\r\n  players = new Subject();\r\n  playersObservable = this.players.subscribe();\r\n  constructor(private http : HttpClient, private socket :WebsocketService) { }\r\n  \r\n  newgame(){\r\n    return this.http.post(`${this.uri}/newGame`, {})\r\n  }\r\n  newPlayer(player,id=this.id){\r\n    return this.http.post(`${this.uri}/add/${id}`, player)\r\n  }\r\n\r\n  getPlayers(id){\r\n    this.http.get(`${this.uri}/get/${id}`)\r\n    .subscribe(res => {\r\n        this.players.next(res['players']);\r\n        console.log('Get Players',res)});\r\n  }\r\n  getRole(id=this.id,name){\r\n    let params = new HttpParams()\r\n      .set('id', id)\r\n      .set('name', name);\r\n    return this.http.get(`${this.uri}/getRole/`,{params})\r\n  }\r\n\r\n  start(id=this.id){\r\n     //assigned roles\r\n    console.log(\"API service recieved\" + id);\r\n    this.http.post(`${this.uri}/start/${id}`, {})\r\n    .subscribe(res => {\r\n        this.socket.updateRoom();\r\n        this.players.next(res);\r\n        console.log('Roles assigned',res)});\r\n        \r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { StartComponent } from './start/start.component';\r\nimport { ChatComponent } from './chat/chat.component';\r\nimport { MainComponent } from './main/main.component';\r\nimport { WelcomeComponent } from './welcome/welcome.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: 'start/:id', component: StartComponent },\r\n  { path: 'game/:id', component: MainComponent },\r\n  { path: 'new/', component: WelcomeComponent},\r\n  { path: '**', redirectTo:'new/'}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'mafia-app';\r\n}\r\n","<router-outlet></router-outlet>","import { BrowserModule } from \"@angular/platform-browser\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { ReactiveFormsModule } from \"@angular/forms\";\r\nimport { HttpClientModule } from \"@angular/common/http\";\r\n\r\nimport { AppRoutingModule } from \"./app-routing.module\";\r\nimport { AppComponent } from \"./app.component\";\r\nimport { WebsocketService } from \"./websocket.service\";\r\nimport { ChatComponent } from \"./chat/chat.component\";\r\nimport { VoteComponent } from \"./vote/vote.component\";\r\nimport { StartComponent } from \"./start/start.component\";\r\nimport { ApiService } from \"./api.service\";\r\nimport { MainComponent } from \"./main/main.component\";\r\nimport { WelcomeComponent } from \"./welcome/welcome.component\";\r\n\r\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\r\nimport { MatListModule } from \"@angular/material/list\";\r\nimport { MatIconModule } from \"@angular/material/icon\";\r\nimport { MatButtonModule } from \"@angular/material/button\";\r\nimport { MatRadioModule } from \"@angular/material/radio\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    ChatComponent,\r\n    VoteComponent,\r\n    StartComponent,\r\n    MainComponent,\r\n    WelcomeComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    MatListModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatRadioModule\r\n  ],\r\n  providers: [WebsocketService, ApiService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","import { Component, OnInit, OnDestroy, ViewChild } from \"@angular/core\";\r\nimport { WebsocketService } from \"../websocket.service\";\r\nimport { FormControl } from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\n\r\n@Component({\r\n  selector: \"app-chat\",\r\n  templateUrl: \"./chat.component.html\",\r\n  styleUrls: [\"./chat.component.css\"]\r\n})\r\nexport class ChatComponent implements OnInit {\r\n  // @ViewChild('chatbox') formValues;\r\n  msg = new FormControl(\"\");\r\n  messages = [];\r\n  player: string;\r\n  constructor(private socket: WebsocketService, private router: Router) {}\r\n\r\n  ngOnInit() {\r\n    if (window.sessionStorage) {\r\n      //c heck for webstorage compatibility\r\n      if (window.sessionStorage.getItem(\"playerName\")) {\r\n        this.player = window.sessionStorage.getItem(\"playerName\");\r\n      } else {\r\n        this.router.navigate([\"start\"]);\r\n        // redirect to start screen\r\n      }\r\n    } else {\r\n      alert(\"Unsupported Browser all features may not work properly\");\r\n    }\r\n    this.socket.getChatMessages().subscribe((message: string) => {\r\n      this.messages.push(JSON.parse(message));\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.socket.destroy();\r\n  }\r\n\r\n  sendChatMessage(text) {\r\n    if (text) {\r\n      let message = JSON.stringify({\r\n        username: this.player,\r\n        message: text\r\n      });\r\n      this.socket.sendChatMessage(message);\r\n      this.msg.setValue(\"\");\r\n    }\r\n  }\r\n}\r\n","<main class=\"msger-chat\">\r\n    <div *ngFor=\"let msg of messages\" [ngClass]=\"(msg.username != player)?'left-msg':'right-msg'\" class=\"msg \">\r\n\r\n        <div class=\"msg-bubble\">\r\n            <div class=\"msg-info\">\r\n                <div class=\"msg-info-name\">{{msg.username}}</div>\r\n                <!-- <div class=\"msg-info-time\">12:45</div> -->\r\n            </div>\r\n            {{msg.message}}\r\n            <div class=\"msg-text\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</main>\r\n\r\n<!-- <form (keyup.enter)=\"sendChatMessage(msg.value)\"\"> -->\r\n<form class=\"msger-inputarea\">\r\n    <input type=\"text\" [formControl]=\"msg\" class=\"msger-input\" placeholder=\"Enter your message...\">\r\n    <button type=\"submit\" (click)=\"sendChatMessage(msg.value)\" class=\"msger-send-btn\">Send</button>\r\n</form>","import { Component, OnInit } from \"@angular/core\";\r\nimport { ApiService } from \"../api.service\";\r\n\r\n@Component({\r\n  selector: \"app-main\",\r\n  templateUrl: \"./main.component.html\",\r\n  styleUrls: [\"./main.component.css\"]\r\n})\r\nexport class MainComponent implements OnInit {\r\n  role: string;\r\n  status: boolean;\r\n  name: string;\r\n  id: string;\r\n  mafia = false;\r\n\r\n  constructor(private api: ApiService) {}\r\n\r\n  ngOnInit() {\r\n    this.id = window.sessionStorage.getItem(\"gameId\");\r\n    this.name = window.sessionStorage.getItem(\"playerName\");\r\n    this.api.getRole(this.id, this.name).subscribe(res => {\r\n      this.role = res[0][\"players\"][0][\"role\"];\r\n      console.log(res, this.role);\r\n      if (this.role == \"mafia\") {\r\n        this.mafia = true;\r\n      }\r\n      // add other roles\r\n    });\r\n  }\r\n}\r\n","<h1>Your Role : {{role}}</h1>\r\n<div class=\"row\">\r\n    <div class=\"col-6\">\r\n        <app-chat></app-chat>\r\n    </div>\r\n    <div class=\"col-6\">\r\n        <app-vote></app-vote>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../api.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormControl } from '@angular/forms';\r\nimport { WebsocketService } from '../websocket.service';\r\n\r\n@Component({\r\n  selector: 'app-start',\r\n  templateUrl: './start.component.html',\r\n  styleUrls: ['./start.component.css']\r\n})\r\nexport class StartComponent implements OnInit {\r\n  showPlayerList = false;\r\n  id :string;\r\n  nameChosen = false;\r\n  playerId :string;\r\n  playerName = new FormControl();\r\n  players =[];\r\n  constructor(\r\n    private api:ApiService, \r\n    private route: ActivatedRoute, \r\n    private socket:WebsocketService,\r\n    private router:Router) { }\r\n\r\n  ngOnInit() {\r\n    console.log(this.route.snapshot.paramMap.get('id'))\r\n    // window.sessionStorage.clear();\r\n    if (this.route.snapshot.paramMap.get('id')){\r\n      this.id = this.route.snapshot.paramMap.get('id');\r\n      window.sessionStorage.setItem('gameId',this.id)\r\n      // if (!window.sessionStorage.getItem('gameId')){\r\n      //   window.sessionStorage.setItem('gameId',this.id)\r\n      // }\r\n      this.showPlayerList = true;\r\n      if (window.sessionStorage.getItem('playerName')){\r\n        this.playerId = window.sessionStorage.getItem('playerName');\r\n        this.nameChosen = true;\r\n      }\r\n    }\r\n    else{\r\n      this.router.navigate(['new/'])\r\n    }\r\n    this.api.players.subscribe(\r\n      (list: any[]) => {\r\n        this.players = list\r\n      }\r\n    )\r\n    this.api.getPlayers(this.id);\r\n    \r\n  }\r\n\r\n  createPlayer(name){\r\n    let player  = {\r\n      'name': name,\r\n      'role': 'none',\r\n      'dead' :false\r\n    }\r\n    console.log(player);\r\n    this.api.newPlayer(player,this.id).subscribe(res => {\r\n      // this.players.next(res);\r\n      this.playerId = res['name']\r\n      window.sessionStorage.setItem('playerName',res['name'])\r\n      this.api.getPlayers(this.id)\r\n      this.nameChosen = true;\r\n      console.log('New Player Created',res)\r\n    });\r\n\r\n    // this.playerId = window.sessionStorage.getItem('playerName');\r\n    \r\n  }\r\n\r\n  startGame(){\r\n    this.api.start(this.id);\r\n    console.log(\"Start pressed\");\r\n    this.socket.getUpdates().subscribe(\r\n      ()=>{\r\n        this.router.navigate([`game/${this.id}`])\r\n      }\r\n    )\r\n    \r\n  }\r\n}\r\n","<div *ngIf=\"showPlayerList\">\r\n    <p> connect to the url/{{id}}</p>\r\n    <form *ngIf=\"!nameChosen\" (keyup.enter)=\"createPlayer(playerName.value)\">\r\n        <label>\r\n            Enter Name: \r\n            <input type=\"text\" [formControl]=\"playerName\">\r\n        </label>\r\n        <button (click)=\"createPlayer(playerName.value)\">Join</button>\r\n    </form>\r\n    <p *ngIf=\"nameChosen\"> Your Name : {{playerId}}\r\n    </p>\r\n    <button (click)=\"startGame()\">Start Game</button>\r\n    <h2>Connected Players</h2>\r\n    <ul>\r\n        <li *ngFor = \"let player of players\">{{player.name}}</li>\r\n    </ul>\r\n</div>\r\n","import { Component, OnInit, ViewChild } from \"@angular/core\";\r\nimport { WebsocketService } from \"../websocket.service\";\r\nimport { ApiService } from \"../api.service\";\r\nimport { MatSelectionList, MatListOption } from \"@angular/material/list\";\r\nimport { SelectionModel } from \"@angular/cdk/collections\";\r\n\r\n@Component({\r\n  selector: \"app-vote\",\r\n  templateUrl: \"./vote.component.html\",\r\n  styleUrls: [\"./vote.component.css\"]\r\n})\r\nexport class VoteComponent implements OnInit {\r\n  votes = {};\r\n  votesArray = [];\r\n  players = [];\r\n  player: string;\r\n  @ViewChild(MatSelectionList, { static: true })\r\n  private selectionList: MatSelectionList;\r\n\r\n  constructor(private socket: WebsocketService, private api: ApiService) {}\r\n\r\n  ngOnInit() {\r\n    this.selectionList.selectedOptions = new SelectionModel<MatListOption>(\r\n      false\r\n    );\r\n    let id = window.sessionStorage.getItem(\"gameId\");\r\n    this.player = window.sessionStorage.getItem(\"playerName\");\r\n    this.api.getPlayers(id);\r\n    this.api.players.subscribe((list: any[]) => {\r\n      let alive = [];\r\n      list.forEach(element => {\r\n        if (!element.dead) {\r\n          alive.push(element);\r\n        }\r\n      });\r\n      this.players = alive;\r\n    });\r\n    this.socket.getVotes().subscribe(msg => {\r\n      let vote = JSON.parse(msg);\r\n      this.votes[vote.user] = [vote.kill];\r\n      this.votesArray = Object.keys(this.votes).map(key => [\r\n        key,\r\n        this.votes[key]\r\n      ]);\r\n    });\r\n  }\r\n\r\n  vote(name) {\r\n    let msg = JSON.stringify({ user: this.player, kill: name });\r\n    this.socket.vote(msg);\r\n  }\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-6\">\r\n        <mat-selection-list>\r\n            <h2 matSubheader> Vote </h2>\r\n            <mat-list-option *ngFor=\"let item of players\" (click)=\"vote(item.name)\" list-item-active>\r\n                <mat-icon matListIcon> face </mat-icon>\r\n                {{item.name}}\r\n            </mat-list-option>\r\n\r\n        </mat-selection-list>\r\n    </div>\r\n    <div class=\"col-6\">\r\n        <mat-list>\r\n            <mat-list-item *ngFor=\"let item of votesArray\">\r\n                <h3 matLine>{{item[1]}}</h3>\r\n                <p matLine>\r\n                    <span> {{item[0]}} says to hang {{item[1]}} </span>\r\n                </p>\r\n            </mat-list-item>\r\n        </mat-list>\r\n    </div>\r\n</div>","import { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\nimport * as io from \"socket.io-client\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class WebsocketService {\r\n  private url = \"http://localhost:9000\";\r\n  private socket;\r\n\r\n  constructor() {\r\n    this.socket = io(this.url);\r\n  }\r\n\r\n  sendChatMessage(msg: string) {\r\n    this.socket.emit(\"chat\", msg);\r\n    console.log(\"service message :\" + msg);\r\n  }\r\n\r\n  sendMafiaMessage(msg: string) {\r\n    this.socket.emit(\"mafia\", msg);\r\n  }\r\n\r\n  getServerMessages = () => {\r\n    return Observable.create(observer => {\r\n      this.socket.on(\"server\", message => {\r\n        observer.next(message);\r\n      });\r\n    });\r\n  };\r\n\r\n  getChatMessages = () => {\r\n    return Observable.create(observer => {\r\n      this.socket.on(\"chat\", message => {\r\n        observer.next(message);\r\n      });\r\n    });\r\n  };\r\n\r\n  getMafiaMessages = () => {\r\n    return Observable.create(observer => {\r\n      this.socket.on(\"mafia\", message => {\r\n        observer.next(message);\r\n      });\r\n    });\r\n  };\r\n\r\n  updateRoom() {\r\n    this.socket.emit(\"update\", \"now\");\r\n  }\r\n  getUpdates = () => {\r\n    return Observable.create(observer => {\r\n      this.socket.on(\"update\", message => {\r\n        observer.next(message);\r\n      });\r\n    });\r\n  };\r\n\r\n  vote(msg) {\r\n    this.socket.emit(\"vote\", msg);\r\n  }\r\n  getVotes = () => {\r\n    return Observable.create(observer => {\r\n      this.socket.on(\"vote\", message => {\r\n        observer.next(message);\r\n      });\r\n    });\r\n  };\r\n\r\n  destroy() {\r\n    this.socket.close();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../api.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-welcome',\r\n  templateUrl: './welcome.component.html',\r\n  styleUrls: ['./welcome.component.css']\r\n})\r\nexport class WelcomeComponent implements OnInit {\r\n\r\n  constructor(private api:ApiService, private router:Router) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  newgame(){\r\n    window.sessionStorage.clear();\r\n    this.api.newgame().subscribe(res => {\r\n      window.sessionStorage.setItem('gameId', res['id']);\r\n      let id = res['id'] \r\n      this.api.id = id ;\r\n      console.log('New Game Created',id);\r\n      this.router.navigate([`start/${id}`])\r\n    });\r\n    \r\n  }\r\n\r\n}\r\n","<h1>welcome works!</h1>\r\n<div>\r\n    <h1> Start New Game</h1>\r\n    <button (click) = \"newgame()\">Create New Game</button>\r\n</div>","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import 'hammerjs';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","/* (ignored) */"]}